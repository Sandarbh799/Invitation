<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naming Ceremony Invitation</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="script.js">

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600&display=swap"
        rel="stylesheet">

    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>

<body>

    <button id="themeToggle" class="theme-btn">ğŸ¨</button>

    <div class="particles"></div>

    <!-- ğŸŒ¸ Petals Canvas -->
    <canvas id="petalCanvas"></canvas>

    <!-- ğŸ”¥ OPEN SCREEN -->
    <div id="openScreen">
        <button class="open-btn" onclick="openInvite()">Open Invitation</button>
    </div>

    <!-- ğŸ‘¶ Baby Reveal Section -->
    <section class="baby-reveal-section">

        <h2 class="reveal-title">âœ¨ Meet Our Little Star âœ¨</h2>

        <div class="baby-frame" id="babyFrame">
            <img src="img1.jpg" alt="Baby Photo" id="babyPhoto">
            <div class="reveal-overlay" id="revealOverlay">
                Tap to Reveal ğŸ‘¶
            </div>
        </div>

    </section>

    <!-- HERO -->
    <section class="hero">
        <div data-aos="zoom-in">
            <h1 class="couple-name">Baby of Mahesh & Pankhudi ğŸ‘¶</h1>
            <p id="guestLine" class="subtitle-glow">
                Join us for the Naming Ceremony
            </p>
        </div>
    </section>

    <div style="text-align:center;margin-top:-40px;">
        <lottie-player src="https://assets2.lottiefiles.com/packages/lf20_jcikwtux.json" background="transparent"
            speed="1" style="width:200px;height:200px;margin:auto;" loop autoplay>
        </lottie-player>
    </div>

    <!-- â³ Countdown Section -->
    <div class="countdown-wrapper">
        <h3 class="countdown-title">â³ Countdown to Ceremony</h3>

        <div id="countdown">
            <div class="time-box">
                <span id="days">00</span>
                <small class="text-dark">Days</small>
            </div>
            <div class="time-box">
                <span id="hours">00</span>
                <small class="text-dark">Hours</small>
            </div>
            <div class="time-box">
                <span id="minutes">00</span>
                <small class="text-dark">Minutes</small>
            </div>
            <div class="time-box">
                <span id="seconds">00</span>
                <small class="text-dark">Seconds</small>
            </div>
        </div>
    </div>

    <!-- EVENTS -->
    <section class="container py-5">
        <section class="invite-wrapper">

            <p class="ganesh">
                <span class="diya">ğŸª”</span>
                Shree Ganeshay Namah
                <span class="diya">ğŸª”</span>
            </p>

            <div class="divider"></div>

            <p class="host">
                <strong>Mr. Pandurang & Mrs. Jyoti Itkelwar</strong><br>
                Cordially invite you to our grandson's
            </p>

            <h1 class="ceremony-title">Naming Ceremony</h1>

            <div class="event-details">
                <p class="date">
                    ğŸ“… Saturday | 21st March 2026 | 6 PM onwards
                </p>

                <p class="venue-title">:: Venue ::</p>
                <p class="venue">
                    Dhanson's Lawn, C.A. Road,<br>
                    Wardhaman Nagar Colony,<br>
                    Nagpur â€“ 440008
                </p>

                <p class="await">:: Awaiting Your Presence ::</p>

                <p class="family">
                    <strong>Itkelwar and Gadewar Family</strong>
                </p>
            </div>

        </section>

    </section>


    <!-- GALLERY -->
    <section class="container py-5 text-center">
        <h2 data-aos="fade-up">Gallery</h2>

        <div id="gallerySlider" class="mt-4">
            <img id="sliderImg" src="photo1.jpg" class="img-fluid" style="border-radius:20px;">
        </div>
    </section>

    <section id="gallery" class="parallax-gallery">

        <h2 class="text-center mb-5">
            Precious Moments ğŸ“¸
        </h2>

        <div class="p-item">
            <img src="img1.jpg" alt="">
        </div>

        <div class="p-item">
            <img src="img2.jpg" alt="">
        </div>

        <div class="p-item">
            <img src="img3.jpg" alt="">
        </div>

    </section>

    <!-- MAP -->
    <section class="container py-5 text-center">
        <h2 data-aos="fade-up">Venue Location</h2>

        <iframe src="https://maps.google.com/maps?q=Nagpur&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%"
            height="300" style="border:0;border-radius:15px;margin-top:20px;" allowfullscreen>
        </iframe>
    </section>

    <!-- RSVP -->
    <section class="rsvp-section">

        <h2 class="rsvp-title">ğŸ’Œ Send Your Wishes</h2>

        <form name="rsvp" method="POST" data-netlify="true">
            <input type="hidden" name="form-name" value="rsvp">

            <input type="text" name="name" placeholder="Your Name" required>
            <input type="number" name="guests" placeholder="Number of Guests" required>
            <textarea name="message" placeholder="Your Wishes"></textarea>

            <button type="submit">Send Wishes ğŸ’Œ</button>
            
            <p id="rsvpMsg"></p>
        </form>


    </section>

    <!-- ğŸµ Background Music -->
    <audio id="bgMusic" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <!-- ğŸµ Floating Music Button -->
    <div id="musicBtn">ğŸ”Š</div>

    <a id="waShare" class="wa-btn" target="_blank">ğŸ’¬</a>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        AOS.init();

        function openInvite() {
            document.getElementById("openScreen").style.display = "none";
            document.getElementById("music").play();
            launchConfetti();
        }

        /* ğŸ€ confetti */

        function launchConfetti() {
            for (let i = 0; i < 80; i++) {
                const c = document.createElement("div");
                c.style.position = "fixed";
                c.style.left = Math.random() * 100 + "%";
                c.style.top = "-10px";
                c.style.width = "6px";
                c.style.height = "6px";
                c.style.background =
                    ["#ffd700", "#ff9ec4", "#9ad9ff", "#ffffff"]
                    [Math.floor(Math.random() * 4)];
                c.style.zIndex = "9999";
                c.style.animation = `confettiFall ${3 + Math.random() * 2}s linear`;
                document.body.appendChild(c);

                setTimeout(() => c.remove(), 5000);
            }
        }

        const music = document.getElementById("bgMusic");
        const btn = document.getElementById("musicBtn");

        // ğŸ” restore previous state
        if (localStorage.getItem("musicPlaying") === "true") {
            music.play().catch(() => { });
            btn.innerHTML = "ğŸ”Š";
        } else {
            btn.innerHTML = "ğŸ”‡";
        }

        // ğŸ‘† first interaction autoplay fix
        document.body.addEventListener("click", () => {
            if (music.paused && localStorage.getItem("musicPlaying") === "true") {
                music.play().catch(() => { });
            }
        }, { once: true });

        // ğŸ”˜ toggle button
        btn.addEventListener("click", () => {
            if (music.paused) {
                music.play();
                btn.innerHTML = "ğŸ”Š";
                localStorage.setItem("musicPlaying", "true");
            } else {
                music.pause();
                btn.innerHTML = "ğŸ”‡";
                localStorage.setItem("musicPlaying", "false");
            }
        });

        // â³ Countdown (stable version)
        const eventDate = new Date("2026-03-21T18:00:00+05:30").getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const gap = eventDate - now;

            if (gap <= 0) {
                document.getElementById("countdown").innerHTML =
                    "<h3>ğŸ‰ Ceremony Started!</h3>";
                return;
            }

            const days = Math.floor(gap / (1000 * 60 * 60 * 24));
            const hours = Math.floor((gap / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((gap / (1000 * 60)) % 60);
            const seconds = Math.floor((gap / 1000) % 60);

            document.getElementById("days").textContent = String(days).padStart(2, "0");
            document.getElementById("hours").textContent = String(hours).padStart(2, "0");
            document.getElementById("minutes").textContent = String(minutes).padStart(2, "0");
            document.getElementById("seconds").textContent = String(seconds).padStart(2, "0");
        }

        updateCountdown();
        setInterval(updateCountdown, 1000);

        /* RSVP fake submit */
        document.querySelector("form[name='rsvp']")
            .addEventListener("submit", function () {
                document.getElementById("rsvpMsg").innerText =
                    "Sending your wishes... ğŸ’Œ";
            });

        /* ğŸ’Œ guest name from URL */

        const params = new URLSearchParams(window.location.search);
        const guest = params.get("guest");

        if (guest) {
            document.getElementById("guestLine").innerText =
                `Dear ${guest}, you are invited to the Naming Ceremony`;
        }

        /* ğŸï¸ auto gallery */

        const images = ["photo1.jpg", "photo2.jpg", "photo3.jpg"];
        let current = 0;

        setInterval(() => {
            current = (current + 1) % images.length;
            document.getElementById("sliderImg").src = images[current];
        }, 3000);

        /* ğŸ¨ theme toggle */

        document.getElementById("themeToggle").onclick = () => {
            document.body.classList.toggle("pastel");
        };


        /* ğŸ“± WhatsApp share */

        const pageUrl = encodeURIComponent(window.location.href);
        const text = encodeURIComponent("You are invited to our Naming Ceremony ğŸ‘¶");

        document.getElementById("waShare").href =
            `https://wa.me/?text=${text}%20${pageUrl}`;


        /* ğŸ’« cursor sparkle */

        document.addEventListener("mousemove", (e) => {
            const s = document.createElement("div");
            s.innerHTML = "âœ¨";
            s.style.position = "fixed";
            s.style.left = e.clientX + "px";
            s.style.top = e.clientY + "px";
            s.style.pointerEvents = "none";
            s.style.fontSize = "10px";
            s.style.zIndex = "9999";
            s.style.animation = "sparkleFade 1s linear";
            document.body.appendChild(s);

            setTimeout(() => s.remove(), 1000);
        });


        /* ğŸŒŒ Safe parallax */

        const pItems = document.querySelectorAll(".p-item img");

        window.addEventListener("scroll", () => {
            const scrollTop = window.pageYOffset;

            pItems.forEach((img) => {
                const rect = img.getBoundingClientRect();
                const offset = rect.top + scrollTop;
                const speed = (scrollTop - offset) * 0.15;
                img.style.transform = `translateY(${speed}px)`;
            });
        });

        const babyFrame = document.getElementById("babyFrame");

        babyFrame.addEventListener("click", () => {
            if (!babyFrame.classList.contains("revealed")) {
                babyFrame.classList.add("revealed");

                // ğŸ† Confetti burst
                confetti({
                    particleCount: 120,
                    spread: 80,
                    origin: { y: 0.6 }
                });

                // ğŸ‰ extra side bursts (premium feel)
                setTimeout(() => {
                    confetti({
                        particleCount: 60,
                        angle: 60,
                        spread: 55,
                        origin: { x: 0 }
                    });

                    confetti({
                        particleCount: 60,
                        angle: 120,
                        spread: 55,
                        origin: { x: 1 }
                    });
                }, 250);
            }
        });

        // ğŸŒ¸ Falling Petals (Ultra Smooth)

        const canvas = document.getElementById("petalCanvas");
        const ctx = canvas.getContext("2d");

        let petals = [];
        const petalCount = 25; // performance friendly

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener("resize", resizeCanvas);

        // ğŸŒ¸ Petal class
        class Petal {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * -canvas.height;
                this.size = Math.random() * 8 + 6;
                this.speedY = Math.random() * 1 + 0.6;
                this.speedX = Math.random() * 0.6 - 0.3;
                this.rotation = Math.random() * 360;
            }

            update() {
                this.y += this.speedY;
                this.x += this.speedX;
                this.rotation += 0.5;

                if (this.y > canvas.height) {
                    this.reset();
                    this.y = -10;
                }
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation * Math.PI / 180);

                ctx.fillStyle = "#ffb6c1";
                ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size * 0.6, 0, 0, Math.PI * 2);
                ctx.fill();

                ctx.restore();
            }
        }

        // create petals
        for (let i = 0; i < petalCount; i++) {
            petals.push(new Petal());
        }

        // animation loop
        function animatePetals() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            petals.forEach(p => {
                p.update();
                p.draw();
            });

            requestAnimationFrame(animatePetals);
        }

        animatePetals();
    </script>

</body>

</html>